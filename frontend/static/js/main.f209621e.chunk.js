(this["webpackJsonplayout-volu-europe"]=this["webpackJsonplayout-volu-europe"]||[]).push([[0],{0:function(e,a,t){e.exports={TheAbsoluteVoid:"style_TheAbsoluteVoid__1uQRL",AnimationHidden:"style_AnimationHidden__3j7DY",Timer:"style_Timer__2vivH",timer:"style_timer__Hesgk",Blue:"style_Blue__10Oo8",Red:"style_Red__ku9y3",Team:"style_Team__MkT1Z",Logo:"style_Logo__13aPD",Patch:"style_Patch__11o2W",AnimationTimer:"style_AnimationTimer__dj2YW","timer-colors":"style_timer-colors__3VNty",TeamBlue:"style_TeamBlue__2sPbC",Bans:"style_Bans__13Fs_","bans-fadein":"style_bans-fadein__JJE90",TeamRed:"style_TeamRed__3XRJK",AnimationBansPick:"style_AnimationBansPick__22AZ2",Pick:"style_Pick__2COD1","pick-move-up":"style_pick-move-up__rVvf7",AnimationBansPickOnly:"style_AnimationBansPickOnly__2WzMg",Europe:"style_Europe__3ODmP",MiddleBox:"style_MiddleBox__3S2l2",Background:"style_Background__3zGms",Both:"style_Both__3DJ-H",TimerChars:"style_TimerChars__2SqeK",TimerChar:"style_TimerChar__14-2Y",TeamName:"style_TeamName__Irs1b",WithoutCoaches:"style_WithoutCoaches__JhFZj",CoachName:"style_CoachName__3YUYz",TeamScore:"style_TeamScore__35mQ7",Picks:"style_Picks__3ILEi",Active:"style_Active__3Sp8x",PlayerName:"style_PlayerName__1JLDO",SummonerSpells:"style_SummonerSpells__52hJ9",PickImage:"style_PickImage__2YJRT","pulsate-pick":"style_pulsate-pick__1BdJ0",Ban:"style_Ban__18XPK",BanImage:"style_BanImage__OLxen","pulsate-ban":"style_pulsate-ban__bTfo5",Spacing:"style_Spacing__2O6MI",BansBox:"style_BansBox__2URLM",BansWrapper:"style_BansWrapper__3XmPZ"}},17:function(e,a,t){},19:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var n=t(3),s=t.n(n),i=t(8),c=t.n(i),o=(t(17),t(5)),r=t(6),l=t(4),m=t(9),d=t(10),u=t(12),h=t(11),p=t(2),b=t.n(p),_=t(0),j=t.n(_),g=t(1),v=function(e){return Object(g.jsxs)("div",{className:b()(j.a.Pick,Object(l.a)({},j.a.Active,e.isActive)),children:[e.spell1&&e.spell2&&e.config.frontend.spellsEnabled&&e.champion.name&&!e.isActive&&Object(g.jsxs)("div",{className:b()(j.a.SummonerSpells),children:[Object(g.jsx)("img",{src:e.spell1.icon,alt:""}),Object(g.jsx)("img",{src:e.spell2.icon,alt:""})]}),Object(g.jsx)("div",{className:b()(j.a.PickImage,Object(l.a)({},j.a.Active,e.isActive)),children:Object(g.jsx)("img",{src:e.champion.loadingImg,alt:""})}),Object(g.jsx)("div",{className:b()(j.a.PlayerName),children:Object(g.jsx)("span",{children:e.displayName})})]})},f=function(e){return Object(g.jsx)("div",{className:b()(j.a.Ban),children:Object(g.jsx)("div",{className:b()(j.a.BanImage,Object(l.a)({},j.a.Active,e.isActive)),children:Object(g.jsx)("img",{src:e.champion.squareImg,alt:""})})})},O=function(e){Object(u.a)(t,e);var a=Object(h.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=a.call.apply(a,[this].concat(s))).state={currentAnimationState:j.a.TheAbsoluteVoid,openingAnimationPlayed:!1},e}return Object(d.a)(t,[{key:"playOpeningAnimation",value:function(){var e=this;this.setState({openingAnimationPlayed:!0}),setTimeout((function(){e.setState({currentAnimationState:j.a.AnimationHidden}),setTimeout((function(){e.setState({currentAnimationState:j.a.AnimationTimer+" "+j.a.AnimationBansPick}),setTimeout((function(){e.setState({currentAnimationState:j.a.AnimationBansPick+" "+j.a.AnimationBansPickOnly}),setTimeout((function(){e.setState({currentAnimationState:j.a.AnimationPigs})}),1e3)}),1450)}),700)}),500)}},{key:"render",value:function(){var e,a=this,t=this.props,n=t.state,s=t.config;n.champSelectActive&&!this.state.openingAnimationPlayed&&this.playOpeningAnimation(),!n.champSelectActive&&this.state.openingAnimationPlayed&&(this.setState({openingAnimationPlayed:!1}),this.setState({currentAnimationState:j.a.TheAbsoluteVoid})),console.log(n);var i=function(e){var a=e.bans.map((function(e,a){return Object(g.jsx)(f,Object(o.a)({},e),"ban-".concat(a))}));return a.splice(3,0,Object(g.jsx)("div",{className:j.a.Spacing},"ban-spacer")),Object(g.jsx)("div",{className:b()(j.a.BansBox),children:a})},c=function(e,t,n){return Object(g.jsxs)("div",{className:b()(j.a.Team,e),children:[Object(g.jsx)("div",{className:b()(j.a.Picks),children:n.picks.map((function(e,t){return Object(g.jsx)(v,Object(o.a)({config:a.props.config},e),"pick-".concat(t))}))}),Object(g.jsx)("div",{className:j.a.BansWrapper,children:Object(g.jsxs)("div",{className:b()(j.a.Bans,Object(l.a)({},j.a.WithScore,s.frontend.scoreEnabled)),children:[e===j.a.TeamBlue&&s.frontend.scoreEnabled&&Object(g.jsx)("div",{className:j.a.TeamScore,children:t.score}),e===j.a.TeamRed&&i(n),Object(g.jsxs)("div",{className:b()(j.a.TeamName,Object(l.a)({},j.a.WithoutCoaches,!s.frontend.coachesEnabled)),children:[t.name,s.frontend.coachesEnabled&&Object(g.jsxs)("div",{className:j.a.CoachName,children:["Coach: ",t.coach]})]}),e===j.a.TeamBlue&&i(n),e===j.a.TeamRed&&s.frontend.scoreEnabled&&Object(g.jsx)("div",{className:j.a.TeamScore,children:t.score})]})})]})};return Object(g.jsxs)("div",{className:b()(j.a.Overlay,j.a.Europe,this.state.currentAnimationState),style:{"--color-red":s.frontend.redTeam.color,"--color-blue":s.frontend.blueTeam.color},children:[0===Object.keys(n).length&&Object(g.jsx)("div",{className:b()(j.a.infoBox),children:"Not connected to backend service!"}),0!==Object.keys(n).length&&Object(g.jsxs)("div",{className:b()(j.a.ChampSelect),children:[!n.leagueConnected&&Object(g.jsx)("div",{className:b()(j.a.infoBox),children:"Not connected to client!"}),Object(g.jsxs)("div",{className:b()(j.a.MiddleBox),children:[Object(g.jsxs)("div",{className:b()(j.a.Logo),style:{textAlign:"center"},children:[Object(g.jsx)("img",{src:n.blueTeam.isActive&&!n.redTeam.isActive?s.frontend.blueTeam.logo:n.redTeam.isActive&&!n.blueTeam.isActive?s.frontend.redTeam.logo:s.frontend.tournament,alt:""}),n.blueTeam.isActive?s.frontend.blueTeam.name:n.redTeam.isActive?s.frontend.redTeam.name:""]}),Object(g.jsx)("div",{className:b()(j.a.Patch),children:n.state}),Object(g.jsxs)("div",{className:b()(j.a.Timer,(e={},Object(l.a)(e,"".concat(j.a.Red," ").concat(j.a.Blue),!n.blueTeam.isActive&&!n.redTeam.isActive),Object(l.a)(e,j.a.Blue,n.blueTeam.isActive),Object(l.a)(e,j.a.Red,n.redTeam.isActive),e)),children:[Object(g.jsx)("div",{className:b()(j.a.Background,j.a.Blue)}),Object(g.jsx)("div",{className:b()(j.a.Background,j.a.Red)}),n.timer<100&&Object(g.jsx)("div",{className:b()(j.a.TimerChars),children:n.timer.toString().split("").map((function(e,a){return Object(g.jsx)("div",{className:b()(j.a.TimerChar),children:e},"div-".concat(a))}))}),n.timer>=100&&Object(g.jsx)("div",{className:b()(j.a.TimerChars),children:n.timer})]})]}),c(j.a.TeamBlue,s.frontend.blueTeam,n.blueTeam),c(j.a.TeamRed,s.frontend.redTeam,n.redTeam)]})]})}}]),t}(s.a.Component),y=t.p+"static/media/ban_placeholder.7cd1d90f.svg",T=[t.p+"static/media/top_splash_placeholder.01a6aefb.svg",t.p+"static/media/jung_splash_placeholder.63f7ae18.svg",t.p+"static/media/mid_splash_placeholder.59441f41.svg",t.p+"static/media/bot_splash_placeholder.f5f12610.svg",t.p+"static/media/sup_splash_placeholder.4b7c3bd9.svg"],x=function(e,a){if(!e||!e.startsWith("/cache"))return e;var t=a.replace("ws://","http://").replace("wss://","https://").split("/");return t[0]+"//"+t[2]+e},B=function(e,a){for(var t=0;t<5;t++){if(t>=e.picks.length)e.picks.push({champion:{loadingImg:T[t]}});else{var n=e.picks[t];n.champion&&n.champion.loadingImg||(n.champion={loadingImg:T[t]}),n.spell1&&(n.spell1.icon=x(n.spell1.icon,a)),n.spell2&&(n.spell2.icon=x(n.spell2.icon,a)),n.champion.loadingImg=x(n.champion.loadingImg,a),n.champion.splashImg=x(n.champion.splashImg,a),n.champion.squareImg=x(n.champion.squareImg,a)}if(t>=e.bans.length)e.bans.push({champion:{squareImg:y}});else{var s=e.bans[t];s.champion&&s.champion.squareImg||(s.champion={squareImg:y}),s.champion.squareImg=x(s.champion.squareImg,a)}}},A=function(e,a){return console.log(e),0!==Object.keys(e).length&&(B(e.blueTeam,a),B(e.redTeam,a)),e},k=function(e,a){var t=a.replace("ws://","http://").replace("wss://","https://").split("/");return t[0]+"//"+t[2]+"/cache//logos//"+e},N=function(e,a){return e.frontend.blueTeam.logo=k(e.frontend.blueTeam.logo,a),e.frontend.redTeam.logo=k(e.frontend.redTeam.logo,a),e.frontend.tournament=k(e.frontend.tournament,a),e},S=(t(19),function(e){var a=e.message,t=e.isStatus;return Object(g.jsx)("div",{className:"Error--Container",children:Object(g.jsx)("div",{className:"Error--Background",style:t?{fontSize:11}:{},children:Object(g.jsx)("pre",{style:{maxWidth:"100vw"},children:a})})})});var P=function(){var e=Object(n.useState)({}),a=Object(r.a)(e,2),t=a[0],s=a[1],i=Object(n.useState)({frontend:{scoreEnabled:!1,spellsEnabled:!0,coachesEnabled:!1,blueTeam:{name:"Team Blue",score:0,coach:"",color:"rgb(0,151,196)",logo:""},redTeam:{name:"Team Red",score:0,coach:"",color:"rgb(222,40,70)",logo:""},patch:"",tournament:""}}),c=Object(r.a)(i,2),l=c[0],m=c[1],d=Object(n.useState)(""),u=Object(r.a)(d,2),h=u[0],p=u[1];if(Object(n.useEffect)((function(){Window.PB.on("newState",(function(e){console.info(e.state),s(e.state),m(e.state.config)})),Window.PB.on("heartbeat",(function(e){console.info("Got new config: ".concat(JSON.stringify(e.config))),m(e.config)}));try{Window.PB.start()}catch(e){p("error: failed to read backend url query param. make sure you set ?backend=ws://[ip]:[port] as query parameter.")}}),[]),"1"===Window.PB.getQueryVariable("status")){var b={backend:Window.PB.getQueryVariable("backend"),error:h,config:l,state:Object(o.a)(Object(o.a)({},t),{},{config:void 0,blueTeam:JSON.stringify(t.blueTeam),redTeam:JSON.stringify(t.redTeam)})};return Object(g.jsx)(S,{message:"status: ".concat(JSON.stringify(b,void 0,4)),isStatus:!0})}return h?Object(g.jsx)(S,{message:h}):l?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(O,{state:A(t,Window.PB.getQueryVariable("backend")),config:N(l,Window.PB.getQueryVariable("backend"))})}):Object(g.jsx)(S,{message:"Unable to load configuration"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(g.jsx)(P,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.f209621e.chunk.js.map